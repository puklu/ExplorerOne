<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ExplorerOne: GeneralPurposeTimer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ExplorerOne
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classGeneralPurposeTimer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">GeneralPurposeTimer Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A class representing a general-purpose timer.  
 <a href="classGeneralPurposeTimer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="GeneralPurposeTimer_8hpp_source.html">GeneralPurposeTimer.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for GeneralPurposeTimer:</div>
<div class="dyncontent">
<div class="center"><img src="classGeneralPurposeTimer__inherit__graph.png" border="0" usemap="#aGeneralPurposeTimer_inherit__map" alt="Inheritance graph"/></div>
<map name="aGeneralPurposeTimer_inherit__map" id="aGeneralPurposeTimer_inherit__map">
<area shape="rect" title="A class representing a general&#45;purpose timer." alt="" coords="5,79,168,104"/>
<area shape="rect" href="classITimer.html" title="An interface for timer operations." alt="" coords="55,5,119,31"/>
<area shape="poly" title=" " alt="" coords="89,44,89,79,84,79,84,44"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for GeneralPurposeTimer:</div>
<div class="dyncontent">
<div class="center"><img src="classGeneralPurposeTimer__coll__graph.png" border="0" usemap="#aGeneralPurposeTimer_coll__map" alt="Collaboration graph"/></div>
<map name="aGeneralPurposeTimer_coll__map" id="aGeneralPurposeTimer_coll__map">
<area shape="rect" title="A class representing a general&#45;purpose timer." alt="" coords="5,79,168,104"/>
<area shape="rect" href="classITimer.html" title="An interface for timer operations." alt="" coords="55,5,119,31"/>
<area shape="poly" title=" " alt="" coords="89,44,89,79,84,79,84,44"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0a833801c8c76ecf1d2e236a4ace1686" id="r_a0a833801c8c76ecf1d2e236a4ace1686"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a0a833801c8c76ecf1d2e236a4ace1686">GeneralPurposeTimer</a> (<a class="el" href="classGeneralPurposeTimerConfig.html">GeneralPurposeTimerConfig</a> const &amp;timer_config)</td></tr>
<tr class="memdesc:a0a833801c8c76ecf1d2e236a4ace1686"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classGeneralPurposeTimer.html" title="A class representing a general-purpose timer.">GeneralPurposeTimer</a> object with the specified configuration.  <br /></td></tr>
<tr class="separator:a0a833801c8c76ecf1d2e236a4ace1686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06212719cf2a8f8e798ae0829e74aca" id="r_aa06212719cf2a8f8e798ae0829e74aca"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#aa06212719cf2a8f8e798ae0829e74aca">Start</a> () override</td></tr>
<tr class="memdesc:aa06212719cf2a8f8e798ae0829e74aca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the General Purpose Timer.  <br /></td></tr>
<tr class="separator:aa06212719cf2a8f8e798ae0829e74aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e15073fda7c1d222aaaf69e506bfc3" id="r_af4e15073fda7c1d222aaaf69e506bfc3"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#af4e15073fda7c1d222aaaf69e506bfc3">Stop</a> () override</td></tr>
<tr class="memdesc:af4e15073fda7c1d222aaaf69e506bfc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the General Purpose Timer.  <br /></td></tr>
<tr class="separator:af4e15073fda7c1d222aaaf69e506bfc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33dacf026634185ac28647d3ba6218b3" id="r_a33dacf026634185ac28647d3ba6218b3"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a33dacf026634185ac28647d3ba6218b3">Reset</a> () override</td></tr>
<tr class="memdesc:a33dacf026634185ac28647d3ba6218b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the General Purpose Timer.  <br /></td></tr>
<tr class="separator:a33dacf026634185ac28647d3ba6218b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37e823098e817c6d7ead462dee84ac5a" id="r_a37e823098e817c6d7ead462dee84ac5a"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a37e823098e817c6d7ead462dee84ac5a">SetPeriodAndCount</a> (uint32_t period_in_ms, uint32_t count) override</td></tr>
<tr class="memdesc:a37e823098e817c6d7ead462dee84ac5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the timer period and counter value.  <br /></td></tr>
<tr class="separator:a37e823098e817c6d7ead462dee84ac5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ebd41b302d0445f493db91772b78aa0" id="r_a4ebd41b302d0445f493db91772b78aa0"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a4ebd41b302d0445f493db91772b78aa0">EnableInterrupt</a> () override</td></tr>
<tr class="memdesc:a4ebd41b302d0445f493db91772b78aa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables interrupts for the timer.  <br /></td></tr>
<tr class="separator:a4ebd41b302d0445f493db91772b78aa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a466481e3ef536e0dae939cecb72a87e0" id="r_a466481e3ef536e0dae939cecb72a87e0"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a466481e3ef536e0dae939cecb72a87e0">DisableInterrupt</a> () override</td></tr>
<tr class="memdesc:a466481e3ef536e0dae939cecb72a87e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables interrupts for the timer.  <br /></td></tr>
<tr class="separator:a466481e3ef536e0dae939cecb72a87e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a129f60e97925e03854bf99d2bb70a26f" id="r_a129f60e97925e03854bf99d2bb70a26f"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a129f60e97925e03854bf99d2bb70a26f">SetPrescalerValue</a> ()</td></tr>
<tr class="memdesc:a129f60e97925e03854bf99d2bb70a26f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the prescaler value for the timer.  <br /></td></tr>
<tr class="separator:a129f60e97925e03854bf99d2bb70a26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a432193a5dd20267f096eed700a20112b" id="r_a432193a5dd20267f096eed700a20112b"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a432193a5dd20267f096eed700a20112b">SetAutoReloadRegisterValue</a> ()</td></tr>
<tr class="memdesc:a432193a5dd20267f096eed700a20112b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the Auto-Reload Register (ARR) value for the timer.  <br /></td></tr>
<tr class="separator:a432193a5dd20267f096eed700a20112b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9275df8381f117ab950292b774b429b4" id="r_a9275df8381f117ab950292b774b429b4"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a9275df8381f117ab950292b774b429b4">ConfigureCaptureCompareRegisters</a> ()</td></tr>
<tr class="memdesc:a9275df8381f117ab950292b774b429b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the Capture/Compare registers for each timer channel.  <br /></td></tr>
<tr class="separator:a9275df8381f117ab950292b774b429b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefe2ad7ef0c674e7d788b2353e1727a" id="r_aaefe2ad7ef0c674e7d788b2353e1727a"><td class="memItemLeft" align="right" valign="top">InterruptCallback&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#aaefe2ad7ef0c674e7d788b2353e1727a">GetInterruptCallback</a> ()</td></tr>
<tr class="memdesc:aaefe2ad7ef0c674e7d788b2353e1727a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the interrupt callback function associated with the timer.  <br /></td></tr>
<tr class="separator:aaefe2ad7ef0c674e7d788b2353e1727a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476a9dd05c82c8a301fd6493fb28f641" id="r_a476a9dd05c82c8a301fd6493fb28f641"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classChannelConfig.html">ChannelConfig</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a476a9dd05c82c8a301fd6493fb28f641">GetChannels</a> ()</td></tr>
<tr class="memdesc:a476a9dd05c82c8a301fd6493fb28f641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the array of channel configurations associated with the timer.  <br /></td></tr>
<tr class="separator:a476a9dd05c82c8a301fd6493fb28f641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42dcbf4465825491385d13756bb49a5e" id="r_a42dcbf4465825491385d13756bb49a5e"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#a42dcbf4465825491385d13756bb49a5e">ClearInterrupt</a> ()</td></tr>
<tr class="memdesc:a42dcbf4465825491385d13756bb49a5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the interrupt flags for the timer.  <br /></td></tr>
<tr class="separator:a42dcbf4465825491385d13756bb49a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab681a361342f6e1daebc9d75ad220067" id="r_ab681a361342f6e1daebc9d75ad220067"><td class="memItemLeft" align="right" valign="top">eGeneralStatus&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#ab681a361342f6e1daebc9d75ad220067">SetPeriodAndDutyCycle</a> (uint32_t period_in_ms, uint32_t duty_cycle, uint8_t channel_index)</td></tr>
<tr class="memdesc:ab681a361342f6e1daebc9d75ad220067"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the timer period and duty cycle for a specific channel.  <br /></td></tr>
<tr class="separator:ab681a361342f6e1daebc9d75ad220067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff8934da3adf2845c70bab18c82c1ca" id="r_aeff8934da3adf2845c70bab18c82c1ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGeneralPurposeTimer.html#aeff8934da3adf2845c70bab18c82c1ca">~GeneralPurposeTimer</a> ()</td></tr>
<tr class="memdesc:aeff8934da3adf2845c70bab18c82c1ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor for the <code><a class="el" href="classGeneralPurposeTimer.html" title="A class representing a general-purpose timer.">GeneralPurposeTimer</a></code> class.  <br /></td></tr>
<tr class="separator:aeff8934da3adf2845c70bab18c82c1ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class representing a general-purpose timer. </p>
<p>This class implements the <code><a class="el" href="classITimer.html" title="An interface for timer operations.">ITimer</a></code> interface and provides functionalities for configuring, managing, and controlling general-purpose timers in embedded systems. The <code><a class="el" href="classGeneralPurposeTimer.html" title="A class representing a general-purpose timer.">GeneralPurposeTimer</a></code> class supports features such as output compare, input capture, PWM generation, timer interrupts, and callback handling.</p>
<p>It allows users to set up timers with various configurations, including output compare modes, input capture settings, auto-reload values, and interrupt handling. The class handles interactions with the timer hardware, translating high-level configurations into appropriate register settings and initiating timer operations. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0a833801c8c76ecf1d2e236a4ace1686" name="a0a833801c8c76ecf1d2e236a4ace1686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a833801c8c76ecf1d2e236a4ace1686">&#9670;&#160;</a></span>GeneralPurposeTimer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">GeneralPurposeTimer::GeneralPurposeTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGeneralPurposeTimerConfig.html">GeneralPurposeTimerConfig</a> const &amp;&#160;</td>
          <td class="paramname"><em>timer_config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classGeneralPurposeTimer.html" title="A class representing a general-purpose timer.">GeneralPurposeTimer</a> object with the specified configuration. </p>
<p>This constructor initializes the timer based on the provided configuration. It sets up the prescaler, auto-reload value, and capture/compare registers. Additionally, it configures the timer channels and ensures proper hardware initialization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer_config</td><td>A reference to the configuration structure containing initialization parameters:<ul>
<li><code>mPrescalerValue</code>: Prescaler value for the timer.</li>
<li><code>mAutoReloadRegisterValue</code>: Auto-reload value for the timer.</li>
<li><code>mCb</code>: Callback function for timer interrupts.</li>
<li><code>mChannels</code>: Array of channel configurations. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aeff8934da3adf2845c70bab18c82c1ca" name="aeff8934da3adf2845c70bab18c82c1ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff8934da3adf2845c70bab18c82c1ca">&#9670;&#160;</a></span>~GeneralPurposeTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GeneralPurposeTimer::~GeneralPurposeTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor for the <code><a class="el" href="classGeneralPurposeTimer.html" title="A class representing a general-purpose timer.">GeneralPurposeTimer</a></code> class. </p>
<p>This destructor cleans up the timer instance by removing its reference from the global <code>generalPurposeTimers</code> array. It sets the appropriate slot in the global timer array to <code>nullptr</code>, indicating that this timer instance is no longer active.</p>
<dl class="section note"><dt>Note</dt><dd>This is the cleanup function that is automatically called when an object of this class goes out of scope.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>generalPurposeTimers </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a42dcbf4465825491385d13756bb49a5e" name="a42dcbf4465825491385d13756bb49a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42dcbf4465825491385d13756bb49a5e">&#9670;&#160;</a></span>ClearInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::ClearInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the interrupt flags for the timer. </p>
<p>This function resets various interrupt flags in the status register (<code>SR</code>) of the timer. It clears flags associated with capture compares, trigger events, and updates.</p>
<dl class="section note"><dt>Note</dt><dd>The specific bits are cleared based on the timer's interrupt sources, including:<ul>
<li>Capture Compare 1, 2, 3, and 4 interrupt flags</li>
<li>Trigger interrupt flag</li>
<li>Update interrupt flag</li>
</ul>
</dd></dl>
<p>This function should be called after handling the corresponding interrupts to acknowledge and clear them.</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> indicating successful execution. </dd></dl>

</div>
</div>
<a id="a9275df8381f117ab950292b774b429b4" name="a9275df8381f117ab950292b774b429b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9275df8381f117ab950292b774b429b4">&#9670;&#160;</a></span>ConfigureCaptureCompareRegisters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::ConfigureCaptureCompareRegisters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the Capture/Compare registers for each timer channel. </p>
<p>This function sets up the necessary configurations for each capture/compare channel in the timer. It configures the CCMR register, CCR register, and the associated functionality (output compare or input capture).</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the configuration is successfully applied.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>mpTimer</code> must be a valid timer instance. </dd>
<dd>
Each channel must have a valid pin associated (<code>channel.mpChannelPin</code> should not be <code>nullptr</code>).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function handles both output and input capture configurations, based on the channel selection.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classChannelConfig.html" title="Represents the configuration settings for an individual channel of a general-purpose timer.">ChannelConfig</a>, Timer, SetAlternateFunction, ConfigureCaptureCompareSelection, ConfigureOutputComparePreloadEnable, ConfigureOutputCompareMode, EnableOutputCompare, ConfigureInputCapturePrescaler, ConfigureInputCaptureFilter, EnableInputCapture </dd></dl>

</div>
</div>
<a id="a466481e3ef536e0dae939cecb72a87e0" name="a466481e3ef536e0dae939cecb72a87e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a466481e3ef536e0dae939cecb72a87e0">&#9670;&#160;</a></span>DisableInterrupt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::DisableInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disables interrupts for the timer. </p>
<p>This function deactivates the configurations related to timer interrupts, including DMA and NVIC settings.</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the interrupts are successfully disabled.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function ensures that both the DMA and NVIC configurations are appropriately disabled to prevent further timer interrupts.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>DisableDmaAndInterrupt() </dd></dl>

<p>Implements <a class="el" href="classITimer.html">ITimer</a>.</p>

</div>
</div>
<a id="a4ebd41b302d0445f493db91772b78aa0" name="a4ebd41b302d0445f493db91772b78aa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ebd41b302d0445f493db91772b78aa0">&#9670;&#160;</a></span>EnableInterrupt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::EnableInterrupt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enables interrupts for the timer. </p>
<p>This function activates the necessary configurations to enable timer-related interrupts, including DMA and NVIC settings.</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the interrupts are successfully enabled.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function ensures that both the DMA and NVIC configurations are set up correctly to handle timer interrupts.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>EnableDmaAndInterrupt() </dd>
<dd>
EnableNVIC() </dd></dl>

<p>Implements <a class="el" href="classITimer.html">ITimer</a>.</p>

</div>
</div>
<a id="a476a9dd05c82c8a301fd6493fb28f641" name="a476a9dd05c82c8a301fd6493fb28f641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a476a9dd05c82c8a301fd6493fb28f641">&#9670;&#160;</a></span>GetChannels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classChannelConfig.html">ChannelConfig</a> * GeneralPurposeTimer::GetChannels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the array of channel configurations associated with the timer. </p>
<p>This function returns a pointer to the array containing the configurations for each channel of the timer. The returned array can be used to access individual channel settings such as capture/compare registers, pins, and their respective configurations.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the array of channel configurations (<code><a class="el" href="classChannelConfig.html" title="Represents the configuration settings for an individual channel of a general-purpose timer.">ChannelConfig</a></code>).</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The timer must have been initialized with valid channel configurations.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classChannelConfig.html" title="Represents the configuration settings for an individual channel of a general-purpose timer.">ChannelConfig</a>, mChannels </dd></dl>

</div>
</div>
<a id="aaefe2ad7ef0c674e7d788b2353e1727a" name="aaefe2ad7ef0c674e7d788b2353e1727a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaefe2ad7ef0c674e7d788b2353e1727a">&#9670;&#160;</a></span>GetInterruptCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InterruptCallback GeneralPurposeTimer::GetInterruptCallback </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the interrupt callback function associated with the timer. </p>
<p>This function returns the interrupt callback function that was configured during the timer setup. The callback function is triggered when the timer's interrupt occurs.</p>
<dl class="section return"><dt>Returns</dt><dd>The interrupt callback function (<code>InterruptCallback</code>).</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The timer must have been initialized with a valid callback function.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="ExtiPin_8hpp.html#a8534ac5223b9c295dbbee84fd034c640" title="Defines a type for interrupt callback functions.">InterruptCallback</a>, mCallBack </dd></dl>

</div>
</div>
<a id="a33dacf026634185ac28647d3ba6218b3" name="a33dacf026634185ac28647d3ba6218b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33dacf026634185ac28647d3ba6218b3">&#9670;&#160;</a></span>Reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the General Purpose Timer. </p>
<p>This function triggers an update event to reset the timer counter and reload the prescaler and auto-reload register values.</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the timer is successfully reset.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The update event is triggered by invoking the <code>TriggerUpdateEvent</code> function, which ensures the timer's internal state is reset. This operation does not stop the timer; it merely resets its counter and configuration.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Ensure that triggering a reset does not interfere with ongoing timer operations or associated callbacks. </dd></dl>

<p>Implements <a class="el" href="classITimer.html">ITimer</a>.</p>

</div>
</div>
<a id="a432193a5dd20267f096eed700a20112b" name="a432193a5dd20267f096eed700a20112b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a432193a5dd20267f096eed700a20112b">&#9670;&#160;</a></span>SetAutoReloadRegisterValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::SetAutoReloadRegisterValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the Auto-Reload Register (ARR) value for the timer. </p>
<p>Configures the timer's Auto-Reload Register to determine the period of the timer. The ARR value defines the count at which the timer resets back to zero.</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the ARR value is successfully set.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>mpTimer</code> must be a valid timer instance. </dd>
<dd>
The appropriate limit is checked based on whether the timer is 32-bit or 16-bit.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function directly updates the timer's ARR register. Ensure that <code>mAutoReloadRegisterValue</code> is set correctly before calling this function.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>mAutoReloadRegisterValue </dd></dl>

</div>
</div>
<a id="a37e823098e817c6d7ead462dee84ac5a" name="a37e823098e817c6d7ead462dee84ac5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37e823098e817c6d7ead462dee84ac5a">&#9670;&#160;</a></span>SetPeriodAndCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::SetPeriodAndCount </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>period_in_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configures the timer period and counter value. </p>
<p>This function sets the timer's prescaler value and auto-reload register value based on the provided period (in milliseconds) and count.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">period_in_ms</td><td>The desired timer period in milliseconds. This is used to calculate the prescaler value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>The desired counter value to be set in the auto-reload register.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the configuration is applied successfully.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The prescaler value is computed based on the system clock (<code>SYS_CLK</code>) to achieve the desired timing period. The prescaler and auto-reload registers are updated using <code>SetPrescalerValue</code> and <code>SetAutoReloadRegisterValue</code>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Ensure that the provided period and count are within valid ranges for the timer hardware. The prescaler value must not exceed its hardware limit, and the count must match the timer's resolution. </dd></dl>

<p>Implements <a class="el" href="classITimer.html">ITimer</a>.</p>

</div>
</div>
<a id="ab681a361342f6e1daebc9d75ad220067" name="ab681a361342f6e1daebc9d75ad220067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab681a361342f6e1daebc9d75ad220067">&#9670;&#160;</a></span>SetPeriodAndDutyCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::SetPeriodAndDutyCycle </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>period_in_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>duty_cycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the timer period and duty cycle for a specific channel. </p>
<p>This function sets the timer's prescaler value, calculates the auto-reload register value based on the desired period, and then sets the capture/compare register value corresponding to the duty cycle for the specified channel.</p>
<p>Depending on whether the timer is 32-bit or not, it chooses the appropriate prescaler value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">period_in_ms</td><td>The desired timer period in milliseconds. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">duty_cycle</td><td>The desired duty cycle in percentage (0-100). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">channel_index</td><td>The index of the channel for which the configuration is to be applied.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function calculates the CCR value based on the given duty cycle and sets it in the specified channel.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the operation is successful.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>mPrescalerValue, mAutoReloadRegisterValue, mChannels </dd></dl>

</div>
</div>
<a id="a129f60e97925e03854bf99d2bb70a26f" name="a129f60e97925e03854bf99d2bb70a26f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a129f60e97925e03854bf99d2bb70a26f">&#9670;&#160;</a></span>SetPrescalerValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::SetPrescalerValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the prescaler value for the timer. </p>
<p>Configures the timer's prescaler to divide the input clock frequency as per the specified value. The prescaler determines the rate at which the timer increments.</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the prescaler value is successfully set.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>mpTimer</code> must be a valid timer instance. </dd>
<dd>
<code>mPrescalerValue</code> must be in the range [1, 0xFFFF].</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function directly updates the timer's prescaler register (PSC). Ensure that <code>mPrescalerValue</code> is set correctly before calling this function.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>mPrescalerValue </dd></dl>

</div>
</div>
<a id="aa06212719cf2a8f8e798ae0829e74aca" name="aa06212719cf2a8f8e798ae0829e74aca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa06212719cf2a8f8e798ae0829e74aca">&#9670;&#160;</a></span>Start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::Start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts the General Purpose Timer. </p>
<p>This function begins the operation of the timer by triggering an update event, setting the necessary control registers, and enabling the interrupt for the timer.</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the timer is successfully started.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The function asserts that the timer has been initialized before starting it. Ensure that <code>mIsInitialized</code> is set to <code>true</code> during initialization.</dd>
<dd>
The following actions are performed:<ul>
<li>Triggers an update event to synchronize the timer.</li>
<li>Configures the control registers for the timer's operation.</li>
<li>Enables the interrupt to handle timer-related events.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>This function must be called only after the timer has been properly initialized. Calling it without initialization will result in an assertion failure. </dd></dl>

<p>Implements <a class="el" href="classITimer.html">ITimer</a>.</p>

</div>
</div>
<a id="af4e15073fda7c1d222aaaf69e506bfc3" name="af4e15073fda7c1d222aaaf69e506bfc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e15073fda7c1d222aaaf69e506bfc3">&#9670;&#160;</a></span>Stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">eGeneralStatus GeneralPurposeTimer::Stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops the General Purpose Timer. </p>
<p>This function disables the timer by clearing the enable bit in the control register (CR1).</p>
<dl class="section return"><dt>Returns</dt><dd><code>eGeneralStatus::SUCCESS</code> if the timer is successfully stopped.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The function modifies the <code>CR1</code> register to disable the timer:<ul>
<li>Clears the bit at position 0 (<code>CR1[0]</code>) to stop the timer.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Ensure that no critical operations are relying on the timer before calling this function. </dd></dl>

<p>Implements <a class="el" href="classITimer.html">ITimer</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/drivers/timers/<a class="el" href="GeneralPurposeTimer_8hpp_source.html">GeneralPurposeTimer.hpp</a></li>
<li>src/drivers/timers/<b>GeneralPurposeTimer.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
